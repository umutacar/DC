######################################################################
# INSTALLATION

* Install python, python 2.7.10 should work

* Install pip
  on mac: this should work
  > sudo easy_install pip


* Install virtual environment
  > sudo pip install virtualenv

  Note: it is said that you should never use sudo with pip (i think
  there are exceptions like when installing virtual env)

* Setup virtual environment for the project
  > virtualenv venv

* Install python in your virtual environment
  * use python 2.7
  > virtualenv -p /usr/bin/python2.7 venv/

* Activate virtual environment
	> source venv/bin/activate

  * install software for diderot
  > pip install -r requirements.txt 

  this will install a few packages that we use

  If the above fails with an error like this
  There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590) - skipping

  update pip: 
  $ pip install --upgrade pip
 
  that should work if not try:

  $ curl https://bootstrap.pypa.io/get-pip.py | python


  If the above fails with something like this:

  > pip install --upgrade -r requirements.txt

  if that also fails try
  > curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py 
  and then 
  > sudo python get-pip.py

* Install pandoc 
  https://pandoc.org/installing.html

* Set up your METAL_HOME environment veriablo
  For example, 
  export METAL_HOME=/Users/umut/MeTaL

* Set up your LATEX_PREAMBLE enviroment variable
  export DIDEROT_LATEX_PREAMBLE=/Users/umut/diderot/algobook/latex_preamble/preamble.tex

######################################################################
# EXAMPLES

* Now you should be able to run various examples
  
  $ cd MeTaL/examples

  - Parse an example DeX file.

    $ python ../dex/parse.py introduction.dex   

  - Tranlate to pandoc-friendly TeX, i.e., pex.

    $ python ../dex/pexify.py introduction.dex   

    This will output the file introduction_pandoc.tex
  
  - You can now convert this to PDF

    $ pdflatex book.tex
  
    The file book.tex includes introduction_pandoc.tex
  
  - Generate html
    $ make book.html

    This will generate book.html which you can view in your browser

  - Tranlate to MLX
    $ python ../dex/mlxdex.py introduction.dex

    The resulting file introduction.mlx can be uploadod to Diderot.
